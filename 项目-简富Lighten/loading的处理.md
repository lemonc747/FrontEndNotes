
## 文件操作

按现象分类
- 直接变更型：数据直接变更
    1. 原理：数据的改变是可预测的
    1. 包括：锁定/解除锁定，添加/删除快捷访问，重命名
    3. 异步loading：需要
    4. 刷新filelist：不需要
- 中断结束型：执行一个同步操作，结束，等待后续操作
    1. 原理：一个同步操作即结束，真正的异步操作在后续的操作
    2. 包括：
        1. 开始重命名：打开一个输入框，结束。后续输入新名称，点确认执行操作
        2. 
    1. 打开一个弹窗：删除
- 等待通知消息类：后台执行异步操作，并等待通知，收到通知后更新
    1. 原理：通过其他线程或者任务链执行，完成后通知


从异步操作上看
1. 异步请求：异步请求所消耗的时间，是需要阻断用户操作的，也就是需要加loading。
    1. 加在table上
    2. 加在弹窗上
    3. 不可见
2. 刷新列表
    1. 不刷新
    2. 刷新，且loading
    3. 刷新，后台不loading
3. 刷新目录树：
    1. 刷新，后台不loading

配置 refreshConfig
1. mutate? = undefined: FileModel====存在时直接变更
2. filelist? = undefined: showLoading |hiddenLoading
3. catalog? = undefined: showLoading |hiddenLoading

## 目录刷新

目录相关的有三个请求
1. 目录全量数据
2. 目录筛选
3. 目录批注状态查询

将这1,2两个个数据整合
1. 目录的全量数据和筛选放到一起，用同一个state存储
2. 认定索引表不会改变，或者只随全量数据改变
2. 支持mutate变更单个数据？现在有场景需要吗？==== TBD
3. 支持静默刷新？静默刷新合适吗

目录批注状态查询接口：这个接口有可能要废弃，但是有这样一个接口实时查询目录的一些经常变更的状态，也很合理。
现在先不动这块，先把全量和筛选整合

## 目录筛选条件

三个存储
1. 筛选框内，临时筛选条件，visible切换时清空
2. 筛选框内，点击查询或重置后，筛选条件固定