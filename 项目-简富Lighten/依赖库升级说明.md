## 升级内容与说明

1. umi3.x: 新特性，dva类型定义，hooks的使用
2. electron: 更新chrome内核版本，特性与性能
3. electron-webpack：替换为vite
3. typescript4.x：性能与特性
4. typescript配置更新：解决d.ts无法自动识别，main进程无法使用es6等问题
5. tslint to eslint: https://github.com/palantir/tslint/issues/4534
5. antd：与umi3.x配套使用
6. umijs中断点调试主进程和渲染进程
7. webpack5.x: MFSU快速热更新

### umi3.x升级
问题
1. dva对ts类型支持差，而umi3.x中内置dva，增加了相关的内置类型定义
2. umi3.x提供hooks使用方式


操作：
1. 参照[升级指南](https://umijs.org/zh-CN/docs/upgrade-to-umi-3)
2. tsconfig.json中添加以下配置，否则umi的一些引入可能无法识别，因为我们的根目录是`src/renderer`。
```json
    "paths": {
      "@/*": ["src/renderer/*"],
      "@@/*": ["src/renderer/.umi/*"]
    },
```
3. 为Models添加类型定义：https://umijs.org/zh-CN/plugins/plugin-dva#model-%E7%94%A8%E4%BE%8B


### 使用eslint
问题
1. TSLint is deprecated，停止更新处于归档状态，详情https://github.com/palantir/tslint/issues/4534
2. 已有的项目大量使用js，避开了代码检查，有必要慢慢规范起来

解决
1. typescript-eslint
2. 配置.eslintrc.js

### TS配置
配置tsconfig.json

问题&解决
1. d.ts中的类型无法识别
2. 避免使用require的问题

为什么避免使用require
1. 代码风格统一
2. require会破会MSFU的预编译，MSFU用于开发和热更新提速

### electron
更新electron相关库版本
1. electron
2. electron-builder：app打包
3. electron-webpack：代码编译
4. electron-rebuild：根据node版本重新编译本地node模块

