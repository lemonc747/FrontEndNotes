# 案例1：聊天界面

## 需求
1. 切换会话，滚动到最底部
2. 滚动到靠近顶部的位置时，加载历史消息
3. 发送消息时，滚动到最底部
4. 接收消息时，视当前滚动距离决定是滚动到底部，还是不滚动并给出提示按钮，点击才滚动

## 难点
1. 最大的难点是，当根据场景滚动时，需要设置`scrollTop`。问题在于设置`scrollTop`和用户手动滚动一样，也会触发`onScroll`事件

## resolved solution

### 1. 对比`onwheel`和`onscroll`事件
1. onwheel是鼠标滚轮旋转, 而onscroll 处理的是对象内部内容区的滚动事件。
2. onwheel无论内容区是否有滚动条，只要用户滚轮旋转，都会触发，而onscroll只有内容区大于窗口时，有滚动条时才会触发
3. onwheel在JS设置`scrollTop`时不会触发，而onscroll会。

显然，两种事件区分了应用的场景，只有用户滑动才触发的事件用onwheel，内容区滚动都需要触发用onscroll

### 结论
使用onwheel事件监听用户滚动，这样就不会影响切换会话时，初始化`scrollTop`了